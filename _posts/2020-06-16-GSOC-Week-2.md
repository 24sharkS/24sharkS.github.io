---
published: false
---
---
layout: post
title: GSOC Week 2
published: true
---

This week features an attempt to provide reticulate wrappers for the C++ constructs provided by the [libcpp_test](https://github.com/uweschmitt/autowrap/blob/master/tests/test_files/libcpp_test.hpp) script of [autowrap](https://github.com/uweschmitt/autowrap) tool which automates generation of python bindings by making use of pxd files which contain cython declarations of c++ classes and methods.  

The libcpp_test file has some classes and in particular their is one, LibCppTest which provides several numbered functions prefixed as "process". These functions make use of diverse C++ data structures and so to test the possibility of wrapping these in R, I created reticulate wrappers till process 11 and for process26 which used nested vector type.

### The script containing these wrappers is available [here](https://github.com/24sharkS/libcpp_test).

## Key Findings

For simple data types like vector or pair of of objects are straight forward to wrap, we first simply convert any R class object if any in our argument to their corresponding python types and then we invoke the python function passing the argument. Reticulate automatically does the r to python data type conversion for arguments with automatic conversion enabled.

**Here is an example of process3 function**


![c_to_py.JPG]({{site.baseurl}}/images/c_to_py.JPG)


This function checks that the argument passed it should be a list of length 2 containing an integer object and LibCppTest object. Then it converts the LibCppTest R6 object to its underlying python object. Later after calling the python calling, it again wraps the python object and returns the list.

When we need to wrap a process function dealing with a std::set data structure, it is a little tricky to do so as there is no native set data type in R.
